@use "sass:math";

@function fluid($max: 100px, $min: 10px, $maxW: 1920, $minW: 360) {
	// Удаляем единицы измерения для расчетов
	$max: math.div($max, ($max * 0 + 1));
	$min: math.div($min, ($min * 0 + 1));

	// Переводим в rem (база 16px)
	$maxSize: math.div($max, 16);
	$minSize: math.div($min, 16);
	$maxWidth: math.div($maxW, 16);
	$minWidth: math.div($minW, 16);

	// Рассчитываем формулу fluid
	$slope: math.div(($maxSize - $minSize), ($maxWidth - $minWidth));
	$yAxisIntersection: (-$minWidth * $slope) + $minSize;

	// Возвращаем clamp() с правильными единицами
	@return clamp($minSize * 1rem, $yAxisIntersection * 1rem + $slope * 100vw, $maxSize * 1rem);
}
